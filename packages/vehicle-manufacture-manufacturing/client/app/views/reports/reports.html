<bc-man-sidebar></bc-man-sidebar>

<div class="bc-man-reports" >
  <h1>
    Reports
    <div class="search">
      <input type="text" name="search" placeholder="Search Arium"></input>
    </div>
  </h1>

  <h5>Post-manufacture failures</h5>

  <div ng-show="latest_failure != null" class="report-section" >
    <div class="left" >
      <div class="big-card card">
        <div class="card-block">
            <div class="card-header">
                <h5>FAILURE</h5>
                <h3><strong>{{latest_failure.vehicle.vehicleDetails.make.name }} </strong>{{latest_failure.vehicle.vehicleDetails.modelType}}</h3>
                <p style="margin: 10px 0 5px;">Occurred: {{latest_failure.usageEvent.timestamp | date:'d MMM yyyy HH:mm'}}</p>
                <p style="margin: 10px 0 5px;">S/N {{latest_failure.vehicle.serialNumber}}</p>
            </div>
        </div>
        <hr>
        <div class="card-block">
          <div class="card-header">
              <h5>FAILURE</h5>
              <h3 style="text-transform: uppercase"><strong>overheat</strong></h3>
          </div>
          <p class="alert-data alert-data-red" >
            <span class="field">Engine Temp.</span><span class="data">{{ latest_failure.usageEvent.engine_temperature | number: 2 }}C</span>
          </p>
          <p class="alert-data alert-data-green" >
            <span class="field">Air Temp.</span><span class="data">{{ latest_failure.usageEvent.air_temperature | number: 2 }}C</span>
          </p>
          <p class="alert-data alert-data-green" >
            <span class="field">Acceleration</span><span class="data">{{ latest_failure.usageEvent.acceleration | number: 2 }}G</span>
          </p>
          <p class="alert-data alert-data-green" >
            <span class="field">Roll</span><span class="data">{{ latest_failure.usageEvent.roll | number: 2 }}&deg;</span>
          </p>
          <p class="alert-data alert-data-green" >
            <span class="field">Pitch</span><span class="data">{{ latest_failure.usageEvent.pitch | number: 2 }}&deg;</span>
          </p>
          <p class="alert-data alert-data-green" >
            <span class="field">Light</span><span class="data">{{ latest_failure.usageEvent.light_level | number: 2 }}LUX</span>
          </p>
        </div>
        <hr>
        <div class="card-block" >
          <div class="card-header">
            <h5>INSIGHT</h5>
            <h3><strong>{{nth_failure}}</strong> Arium {{latest_failure.vehicle.vehicleDetails.modelType}} failure this week due to Overheating</h3>
          </div>
          <div class="common-factor-block">
            <span>Common Factor</span>
            <h3><strong>Mileage &lt; 100,000</strong></h3>
          </div>
        </div>
      </div>
      <div class="bottom-holder" >
        <div class="card card-secondary">
          <div class="card-block">
            <h5 class="card-title">Actionable Insights</h5>
            <h3>More information needed for actionable insights</h3>
          </div>
        </div>
        <div class="card card-yellow">
          Send report to engineering
        </div>
      </div>
    </div>
    <div class="right" >
      <div class="card" ng-repeat="similar_failure in similar_failures" >
          <div class="card-block">
              <div class="card-header">
                  <h5>SIMILAR FAILURE</h5>
                  <h3><strong>{{similar_failure.vehicle.vehicleDetails.make.name }} </strong>{{similar_failure.vehicle.vehicleDetails.modelType}}</h3>
                  <p style="margin: 10px 0 5px;">Occurred {{similar_failure.usageEvent.timestamp | date:'d MMM yyyy'}}</p>
                  <p style="margin: 10px 0 5px;">S/N {{similar_failure.vehicle.serialNumber}}</p>
              </div>
              <p class="alert-data alert-data-red" >
                  <span class="field">Engine Temp.</span><span class="data">{{similar_failure.usageEvent.engine_temperature | number: 2}}C</span>
              </p>
          </div>
      </div>
      <div class="card not-shown" ng-show="not_shown > 0" >
          <div class="card-block">
              <div class="card-header">
                <h5>+ {{not_shown}} MORE</h5>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>